/**
 * \file IfxEdsadc_Edsadc.h
 * \brief EDSADC EDSADC details
 * \ingroup IfxLld_Edsadc
 *
 * \version iLLD_1_20_0
 * \copyright Copyright (c) 2024 Infineon Technologies AG. All rights reserved.
 *
 *
 *
 *                                 IMPORTANT NOTICE
 *
 * Use of this file is subject to the terms of use agreed between (i) you or
 * the company in which ordinary course of business you are acting and (ii)
 * Infineon Technologies AG or its licensees. If and as long as no such terms
 * of use are agreed, use of this file is subject to following:
 *
 * Boost Software License - Version 1.0 - August 17th, 2003
 *
 * Permission is hereby granted, free of charge, to any person or organization
 * obtaining a copy of the software and accompanying documentation covered by
 * this license (the "Software") to use, reproduce, display, distribute,
 * execute, and transmit the Software, and to prepare derivative works of the
 * Software, and to permit third-parties to whom the Software is furnished to
 * do so, all subject to the following:
 *
 * The copyright notices in the Software and this entire statement, including
 * the above license grant, this restriction and the following disclaimer, must
 * be included in all copies of the Software, in whole or in part, and all
 * derivative works of the Software, unless such copies or derivative works are
 * solely in the form of machine-executable object code generated by a source
 * language processor.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
 * SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
 * FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 *
 *
 * \defgroup IfxLld_Edsadc_Edsadc_Usage How to use the EDSADC Interface driver?
 * \ingroup IfxLld_Edsadc
 *
 * The EDSADC interface driver provides a default EDSADC configuration for converting analog data streams inputs from external modulators via digital input channels, into digital values by using the on-chip demodulator channels.
 *
 * In the following sections it will be described, how to integrate the driver into the application framework.
 *
 * \section IfxLld_Edsadc_Edsadc_Preparation Preparation
 * \subsection IfxLld_Edsadc_Edsadc_Include Include Files
 *
 * Include following header file into your C code:
 * \code
 *     #include <Edsadc/Edsadc/IfxEdsadc_Edsadc.h>
 *  \endcode
 *
 * \subsection IfxLld_Edsadc_Edsadc_Variables Variables
 *
 * Declare the EDSADC channel handle and available channels as global variables in your C code:
 *
 * \code
 *     static IfxEdsadc_Edsadc edsadc;
 *     IfxEdsadc_Edsadc_Channel edsadcChannel[IFXEDSADC_NUM_CHANNELS];
 *
 *     uint8 edsadcChannelAvailable[IFXEDSADC_NUM_CHANNELS] = { 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1 };
 * \endcode
 *
 *
 * \subsection IfxLld_Edsadc_Edsadc_Init Module Initialisation
 *
 * The module initialisation can be done in the same function. Here an example:
 * \code
 *
 *     // create module config
 *     IfxEdsadc_Edsadc_Config edsadcConfig;
 *     IfxEdsadc_Edsadc_initModuleConfig(&edsadcConfig, &MODULE_EDSADC);
 *
 *     // initialize module
 *    // IfxEdsadc_Edsadc edsadc; //declared globally
 *     IfxEdsadc_Edsadc_initModule(&edsadc, &edsadcConfig);
 *
 *     // create channel config
 *     IfxEdsadc_Edsadc_ChannelConfig edsadcChannelConfig;
 *     IfxEdsadc_Edsadc_initChannelConfig(&edsadcChannelConfig, &edsadc);
 *
 *     // modify default configuration
 *     edsadcChannelConfig.modulator.positiveInput      = IfxEdsadc_InputConfig_inputPin;
 *     edsadcChannelConfig.modulator.negativeInput      = IfxEdsadc_InputConfig_inputPin;
 *     edsadcChannelConfig.modulator.inputGain          = IfxEdsadc_InputGain_factor1;
 *     edsadcChannelConfig.modulator.inputPin           = IfxEdsadc_InputPin_a;
 *     edsadcChannelConfig.modulator.modulatorClockFreq = 10.0e6;
 *
 *     edsadcChannelConfig.combFilter.decimationFactor  = 32;
 *     edsadcChannelConfig.combFilter.startValue        = 32;
 *
 *     edsadcChannelConfig.firFilter.fir0Enabled        = TRUE;
 *     edsadcChannelConfig.firFilter.fir1Enabled        = TRUE;
 *     edsadcChannelConfig.firFilter.offsetCompensation = IfxEdsadc_OffsetCompensationFilter_disabled;
 *     edsadcChannelConfig.firFilter.fir1DecimateRate   = TRUE;
 *     edsadcChannelConfig.firFilter.prefilterEnabled   = TRUE;
 *
 *
 *     // initialize channels
 *     for(int chn=0; chn<IFXEDSADC_NUM_CHANNELS; ++chn) {
 *         if( edsadcChannelAvailable[chn] ) {
 *             edsadcChannelConfig.channelId = (IfxEdsadc_ChannelId)chn;
 *         //  Note:CICSHIFT Value has to update according to application need
 *            edsadcChannelConfig.cicShift = 15;
 *             IfxEdsadc_Edsadc_initChannel(&edsadcChannel[chn], &edsadcChannelConfig);
 *         }
 *     }
 *
 *
 * \endcode
 *
 * The EDSADC is ready for use now!
 *
 *
 * \section IfxLld_Edsadc_Edsadc_Conversions Conversions
 *
 * The EDSADC driver provides simple to use Conversion function,
 *
 * \code
 *     // start conversions
 *     IfxEdsadc_Edsadc_startScan(&edsadc, 0x3f, 0x3f);
 *
 *     // Pause for wakeup time (approx 20us). Use delay function or wait function
 *    waitTime(IfxStm_getTicksFromMicroseconds(BSP_DEFAULT_TIMER, 20));
 *
 *     // results are now available in IFXEDSADC(ds).CH[x].RESM.B.RESULT (x=0..5)
 * \endcode
 *
 * \code
 *    //Enable service request and FIR filters and start calibration
 *    IfxEdsadc_Edsadc_initFirFilter(channel, &config->firFilter);
 *    //Get the calib status
 *    status = IfxEdsadc_Edsadc_getCalStatus(channel)
 * \endcode
 *
 * The converted data can be collected using the following function
 *
 * \code
 *     // declared globally
 *     // sint16 result[];
 *    for(int chn=0; chn<IFXEDSADC_NUM_CHANNELS; ++chn) {
 *         if( edsadcChannelAvailable[chn] ) {
 *     result = IfxEdsadc_Edsadc_getMainResult(&edsadcChannel[chn]);
 * }
 * }
 * \endcode
 *
 * \defgroup IfxLld_Edsadc_Edsadc EDSADC
 * \ingroup IfxLld_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_DataStructures Data Structures
 * \ingroup IfxLld_Edsadc_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_Module Module Functions
 * \ingroup IfxLld_Edsadc_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_Channel Channel Functions
 * \ingroup IfxLld_Edsadc_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_Operative Operative Functions
 * \ingroup IfxLld_Edsadc_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_Results Result Functions
 * \ingroup IfxLld_Edsadc_Edsadc
 * \defgroup IfxLld_Edsadc_Edsadc_Interrupt Interrupt Functions
 * \ingroup IfxLld_Edsadc_Edsadc
 */

#ifndef IFXEDSADC_EDSADC_H
#define IFXEDSADC_EDSADC_H 1

/******************************************************************************/
/*----------------------------------Includes----------------------------------*/
/******************************************************************************/

#include "Edsadc/Std/IfxEdsadc.h"
#include "Scu/Std/IfxScuWdt.h"

/******************************************************************************/
/*-----------------------------------Macros-----------------------------------*/
/******************************************************************************/

/** \brief Calibration Status Flag specifies the Calibrated and normal opertaion possible
 */
#define IFXEDSADC_EDSADC_CALIBRATED (0x02U)

/******************************************************************************/
/*-----------------------------Data Structures--------------------------------*/
/******************************************************************************/

/** \addtogroup IfxLld_Edsadc_Edsadc_DataStructures
 * \{ */
/** \brief Channel Pins Configuration structure
 */
typedef struct
{
    IFX_CONST IfxEdsadc_Cin_In *cin;             /**< \brief the CIN Pin which should be configured */
    IfxPort_InputMode           cinMode;         /**< \brief the CIN pin input mode which should be configured */
    IFX_CONST IfxEdsadc_Din_In *din;             /**< \brief the DIN Pin which should be configured */
    IfxPort_InputMode           dinMode;         /**< \brief the DIN pin input mode which should be configured */
    IFX_CONST IfxEdsadc_Itr_In *itr;             /**< \brief the ITR Pin which should be configured */
    IfxPort_InputMode           itrMode;         /**< \brief the ITR pin input mode which should be configured */
    IFX_CONST IfxEdsadc_Dsn_In *dsn;             /**< \brief the DSN Pin which should be configured */
    IfxPort_InputMode           dsnMode;         /**< \brief the DSN pin output mode which should be configured */
    IFX_CONST IfxEdsadc_Dsp_In *dsp;             /**< \brief the DSP Pin which should be configured */
    IfxPort_InputMode           dspMode;         /**< \brief the DSP pin output mode which should be configured */
    IfxPort_PadDriver           pinDriver;       /**< \brief Pin Driver Configuration */
} IfxEdsadc_Edsadc_ChannelPins;

/** \brief Comb filter configuration structure
 */
typedef struct
{
    uint16 decimationFactor;       /**< \brief decimation rate of comb filter 4 .. 256 */
    uint16 startValue;             /**< \brief 4 .. decimationFactor */
} IfxEdsadc_Edsadc_CombFilterConfig;

/** \brief enable the voltage generators and select which input pins are connected to the common mode hold voltage
 */
typedef struct
{
    IfxEdsadc_FractionalRefVoltageSelection fractionalRefVoltage;       /**< \brief Fractional Reference Voltage selection */
    IfxEdsadc_FractionalRefVoltage          refVoltageEnable;           /**< \brief Fractional Reference Voltage enable/disable */
    uint8                                   positiveInput;              /**< \brief Defines the connection of the respective positive input y to the common
                                                                         * mode hold voltage. */
    uint8                                   negativeInput;              /**< \brief Defines the connection of the respective negative input y to the common mode hold voltage */
} IfxEdsadc_Edsadc_CommonModeVoltageConfig;

/** \brief Demodulator configuration structure
 */
typedef struct
{
    IfxEdsadc_TriggerInput      triggerInput;             /**< \brief Trigger selection */
    IfxEdsadc_InputDataSource   inputDataSource;          /**< \brief Demodulator input data source selection */
    IfxEdsadc_DataStream        dataStream;               /**< \brief Data stream select */
    IfxEdsadc_SampleClockSource sampleClockSource;        /**< \brief Demodulator sample clock source selection */
    IfxEdsadc_IntegratorTrigger integrationTrigger;       /**< \brief Integrator trigger mode selection */
    IfxEdsadc_TimestampTrigger  timestampTrigger;         /**< \brief Timestamp trigger mode selection */
    IfxEdsadc_DataRead          dataReadMode;             /**< \brief Selects the data that is returned when register RESMx is read (). */
    boolean                     timeStampMode;            /**< \brief FALSE = no timeStamp
                                                           * True    = inserts timestamp upon trigger */
    IfxEdsadc_ResultDisplayMode resultDisplay;            /**< \brief Result Display Mode (Signed./Unsigned) */
} IfxEdsadc_Edsadc_DemodulatorConfig;

/** \brief FIR filters configuration structure
 */
typedef struct
{
    IfxEdsadc_MainServiceRequest       serviceRequest;                  /**< \brief Service Request generation for main service request */
    IfxEdsadc_AuxServiceRequest        auxServiceRequest;               /**< \brief Service Request Generation for Auxiliary Service Request */
    IfxEdsadc_ServiceRequestFifolevel  serviceRequestLevel;             /**< \brief Service Request FIFO Level */
    IfxEdsadc_EventSelect              eventSelect;                     /**< \brief Defines when a comparator event is generated. */
    boolean                            eventGating;                     /**< \brief True --> Service Request gate enabled */
    IfxEdsadc_OffsetCompensationFilter offsetCompensation;              /**< \brief Offset Compensation Filter enable/disable selection */
    boolean                            fir0Enabled;                     /**< \brief FIR filter 0 enable/disable selection */
    boolean                            fir1Enabled;                     /**< \brief FIR filter 0 enable/disable selection */
    boolean                            fir1DecimateRate;                /**< \brief FIR1 Filter Decimation Rate */
    boolean                            cicMode;                         /**< \brief CIC Filter mode */
    boolean                            prefilterEnabled;                /**< \brief Enable/Disable the PreFilter */
    boolean                            calibrationTrigger;              /**< \brief triggger the calibration */
    boolean                            calibrationControl;              /**< \brief Automatic Calibration Control */
    IfxEdsadc_OvershootCompensation    overshootCompensation;           /**< \brief Overshoot Compensation Enable/Disable */
    uint16 							   offsetCompensationValue;         /**< \brief Offset Compensation Value  */
} IfxEdsadc_Edsadc_FirFilterConfig;

/** \brief Integrator configuration structure
 */
typedef struct
{
    IfxEdsadc_IntegrationWindowSize   windowSize;              /**< \brief Integrator window size */
    uint16                            discardCount;            /**< \brief Number of discarded values to after active trigger: 1 .. 64 */
    uint16                            integrationCycles;       /**< \brief Number of integration cycles: 1 .. 16. Used only when \ref IfxEdsadc_IntegrationWindowSize_internalControl */
    uint16                            integrationCount;        /**< \brief Number of integrated values after discard step: 1 .. 64 */
    IfxEdsadc_IntegrationShiftControl shiftControl;            /**< \brief Integrator shift control */
    IfxEdsadc_RestartFilterChain      fcRestartControl;        /**< \brief Filter Chain Restart Control */
} IfxEdsadc_Edsadc_IntegratorConfig;

/** \brief Modulator configuration structure
 */
typedef struct
{
    float32                          modulatorClockFreq;           /**< \brief Modulator clock frequency */
    IfxEdsadc_InputGain              inputGain;                    /**< \brief Modulator gain select of analog input path */
    IfxEdsadc_AnalogClockSyncDelay   analogClockSyncDelay;         /**< \brief Define the delay in clock cycle after sync signal */
    IfxEdsadc_InputConfig            positiveInput;                /**< \brief Modulator configuration of positive input line */
    IfxEdsadc_InputConfig            negativeInput;                /**< \brief Modulator configuration of negative input line */
    IfxEdsadc_InputPin               inputPin;                     /**< \brief Modulator input pin selection */
    IfxEdsadc_dithering              ditheringEnabled;             /**< \brief Control the Dithering Function for each modulator */
    boolean                          integratorResetEnabled;       /**< \brief control the modulator overload handling */
    IfxEdsadc_AutomaticPowerControl  automaticPowerControl;        /**< \brief Automatic Power Control */
    boolean                          inputMuxActionControl;        /**< \brief Defines the mechanism by which the input multiplexer is controlled */
    IfxEdsadc_InputMuxControlMode    triggerEvent;                 /**< \brief Defines the condition for a trigger event to control the input multiplexer */
} IfxEdsadc_Edsadc_ModulatorConfig;

/** \brief Rectifier configuration structure
 */
typedef struct
{
    uint8                         signDelay;        /**< \brief Sign delay value */
    uint8                         signPeriod;       /**< \brief Sign period */
    IfxEdsadc_RectifierSignSource signSource;       /**< \brief Rectifier sign source */
    IfxEdsadc_SignSourceChannel   signSourceChannel; /**< \brief Sign Source Channel */
    boolean                       enabled;          /**< \brief Rectification enable/disable selection */
} IfxEdsadc_Edsadc_RectifierConfig;

/** \brief TimeStamp Counter Configuration
 */
typedef struct
{
    IfxEdsadc_TimeStampCounterClockSelection timeStampCounterClock;            /**< \brief Timestamp Counter Clock Selection */
    IfxEdsadc_TimeStampCounterControl        timeStampCounterRunControl;
    IfxEdsadc_AnalogMux                      analogMuxCopy;                    /**< \brief Allows copying of bitfield AMX into bitfield TIMESTAMP */
} IfxEdsadc_Edsadc_TimeStampCounter;

/** \brief Configuration of Boundary Limit Checking
 */
typedef struct
{
    uint16                      lowerBound;             /**< \brief Lower Boundary for limit checking */
    uint16                      upperBound;             /**< \brief Upper Boundary for limit checking */
} IfxEdsadc_Edsadc_BoundaryConfig;

/** \} */

/** \brief Contains configurations for Gain Calibaration
 */
typedef struct
{
    uint16 gainFactor;              /**< \brief Multiplication Factor for Gain Correction During Calibration(in GAINCTR register) */
    uint8  cicShift;
    uint8  cicDecimationRate;       /**< \brief Decimation Rate of the CIC Filter During Calibration(GAINCTR register) */
    uint16 calFactor;               /**< \brief Multiplication Factor for Gain Calibration */
    uint16 calTarget;               /**< \brief Target Value for Calibrated Fullscale */
} IfxEdsadc_Edsadc_GainCalibrationConfig;

/** \brief Auxiliary Filter Configuration
 */
typedef struct
{
    IfxEdsadc_AuxiliaryFilterDecimationFactor cicDecimationFactor; /**< \brief CIC Filter decimation factor */
    boolean                                   cicEnabled;          /**< \brief CIC Filter enable/disable selection */
} IfxEdsadc_Edsadc_AuxiliaryFilterConfig;

/** \addtogroup IfxLld_Edsadc_Edsadc_DataStructures
 * \{ */
/** \brief EDSADC handle data structure
 */
typedef struct
{
    Ifx_EDSADC *edsadc;       /**< \brief Specifies the pointer to the EDSADC module registers */
} IfxEdsadc_Edsadc;

/** \brief Carrier generation configuration structure
 */
typedef struct
{
    IfxEdsadc_CarrierWaveformMode  carrierWaveformMode;       /**< \brief Carrier generation mode */
    float32                        frequency;                 /**< \brief Expected excitation frequency in Hz. */
    IFX_CONST IfxEdsadc_Cgpwm_Out *pinPos;                    /**< \brief Positive-carrier pin configuration */
    IFX_CONST IfxEdsadc_Cgpwm_Out *pinNeg;                    /**< \brief Negative-carrier pin configuration */
    IfxPort_OutputMode             pinMode;                   /**< \brief Carrier pins output mode */
    IfxPort_PadDriver              pinDriver;                 /**< \brief Carrier pins pad driver */
    boolean                        inverted;                  /**< \brief Signal polarity (Normal / Inverted) selection */
    boolean                        bitReversed;               /**< \brief Bit-Reverse PWM Generation (Normal / Bit reverse mode) selection */
} IfxEdsadc_Edsadc_CarrierGenConfig;

/** \brief Overshoot Compensation Cfg. Register structure
 */
typedef struct
{
	IfxEdsadc_SlewRateFilterStrength  slewRateFilterStrength;      /**< \brief Defines the time constant for the slew rate filter */
	IfxEdsadc_SlewrateFilterRuntime   slewRateFilterRunTime;        /**< \brief Defines the time constant for the slew rate filter. */
	IfxEdsadc_StepDetectionMode       stepDetectionMode;            /**< \brief Defines when the slew rate filter is activated */
	uint16                            stepDetectionThreshold;       /**< \brief Defines the threshold value (magnitude) used for step detection. The threshold value is <SDTH> × 32 */
} IfxEdsadc_Edsadc_OvershootCompensationConfig;

/** \brief Channel handle structure
 */
typedef struct
{
    Ifx_EDSADC         *module;          /**< \brief Specifies the pointer to the EDSADC module registers */
    Ifx_EDSADC_CH      *channel;         /**< \brief Specifies the pointer to the EDSADC channel registers */
    IfxEdsadc_ChannelId channelId;       /**< \brief Channel Id */
} IfxEdsadc_Edsadc_Channel;

/** \brief Supervisor signal configuration
 */
typedef struct
{
	IfxEdsadc_ChannelId       channelSelect;       /**< \brief Selection of the channel for supervision */
	IfxEdsadc_SvSigSel        signalSelect;        /**< \brief Signal selection for supervision */
} IfxEdsadc_SvSigConfig;

/** \brief Single channel configuration structure
 */
typedef struct
{
    Ifx_EDSADC                                    *module;                      /**< \brief Specifies the pointer to the EDSADC module registers */
    IfxEdsadc_ChannelId                            channelId;                   /**< \brief Channel Id */
    IfxEdsadc_Edsadc_FirFilterConfig               firFilter;                   /**< \brief FIR filters configuration structure */
    IfxEdsadc_Edsadc_ModulatorConfig               modulator;                   /**< \brief Modulator configuration structure */
    IfxEdsadc_Edsadc_BoundaryConfig 			   boundCfg;                    /**< \brief Limit Checking configurations */
    IfxEdsadc_Edsadc_DemodulatorConfig             demodulator;                 /**< \brief Demodulator configuration structure */
    IfxEdsadc_Edsadc_IntegratorConfig              integrator;                  /**< \brief Integrator configuration structure */
    IfxEdsadc_Edsadc_RectifierConfig               rectifier;                   /**< \brief Rectifier configuration structure */
    IfxEdsadc_Edsadc_CombFilterConfig              combFilter;                  /**< \brief Comb filter configuration structure */
    IfxEdsadc_Edsadc_TimeStampCounter              timeStamp;                   /**< \brief Configure Time Stamp Counter */
    IfxEdsadc_Edsadc_CommonModeVoltageConfig       commonMode;                  /**< \brief Common Mode Voltage Configuration */
    uint16                                         gainFactor;                  /**< \brief Multiplication Factor for Gain Correction */
    uint8                                          cicShift;                    /**< \brief Position of the CIC Filter Output Shifter */
    IFX_CONST IfxEdsadc_Edsadc_ChannelPins        *channelPins;                 /**< \brief Channel Pins Configuration structure */
    IfxEdsadc_Edsadc_GainCalibrationConfig         gainCalibrationConfig;       /**< \brief Configuration Settings for Gain Calibration */
    IfxEdsadc_Edsadc_OvershootCompensationConfig   overshootCompensationConfig; /**< \brief Overshoot Compensation Cfg. Register structure */
    IfxEdsadc_Edsadc_AuxiliaryFilterConfig         auxiliaryFilterConfig;       /**< \brief Configuration Settings for Auxiliary Filter */
} IfxEdsadc_Edsadc_ChannelConfig;

/** \brief Clock configuration data structure
 */
typedef struct
{
    Ifx_EDSADC                        *edsadc;                   /**< \brief Specifies the pointer to the EDSADC module registers */
    IfxEdsadc_SvSigConfig             *svSignalConfig;           /**< \brief supervision signal config */
    IfxEdsadc_DitheringIntensity       ditheringIntensity;       /**< \brief Trimming Value for the Dithering Function */
    IfxEdsadc_ModulatorClockGeneration modulatorClockMode;       /**< \brief Defines the way the modulator clock is generated. */
    IfxEdsadc_SupplyVoltageLevel       supplyVoltageLevel;       /**< \brief Adjusts the analog circuitry to the supply voltage used in the application
                                                                  * system */
} IfxEdsadc_Edsadc_Config;

/** \} */

/** \addtogroup IfxLld_Edsadc_Edsadc_Module
 * \{ */

/******************************************************************************/
/*-------------------------Global Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Initializes the carrier generation for the specified EDSADC module.
 *
 * \param[inout] edsadc Pointer to the EDSADC module instance.
 * \param[in]    config Pointer to the configuration structure containing carrier
 *               generation parameters.
 *
 * \return None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initCarrierGen(IfxEdsadc_Edsadc *edsadc, IfxEdsadc_Edsadc_CarrierGenConfig *config);

/** 
 * \brief Initializes the comb filter for the specified EDSADC channel.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the configuration structure containing the comb filter settings.
 *
 * \return None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initCombFilter(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_CombFilterConfig *config);

/**
 * \brief Initializes the demodulator for the specified EDSADC channel with the given configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the demodulator configuration structure.
 *
 * \return None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initDemodulator(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_DemodulatorConfig *config);

/**
 * \brief Initializes the FIR filter configuration for the specified EDSADC channel.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the FIR filter configuration structure.
 *
 * \retval None.
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initFirFilter(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_FirFilterConfig *config);

/**
 * \brief Initializes the integrator for the specified EDSADC channel with the given configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the integrator configuration structure.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initIntegrator(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_IntegratorConfig *config);

/**
 * \brief Initializes the modulator for the specified EDSADC channel with the given configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the modulator configuration structure containing the settings for the modulator.
 *
 * \retval None.
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initModulator(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_ModulatorConfig *config);

/**
 * \brief Initializes the EDSADC module with the provided configuration.
 *
 * \param[inout] edsadc Pointer to the EDSADC module instance.
 * \param[in]    config Pointer to the configuration structure containing initialization
 *                    parameters for the EDSADC module.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initModule(IfxEdsadc_Edsadc *edsadc, IfxEdsadc_Edsadc_Config *config);

/**
 * \brief Initializes the EDSADC module configuration with default settings and assigns the EDSADC instance.
 *
 * \param[out] config  Pointer to the configuration structure containing initialization
 *                     parameters for the EDSADC module.
 * \param[in]  edsadc  Pointer to the EDSADC module base address.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initModuleConfig(IfxEdsadc_Edsadc_Config *config, Ifx_EDSADC *edsadc);

/**
 * \brief Initializes the rectifier for the specified EDSADC channel with the given configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the rectifier configuration structure containing the settings to apply.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initRectifier(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_RectifierConfig *config);

/**
 * \brief Initializes the overshoot compensation configuration for the specified EDSADC channel.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the overshoot compensation configuration structure.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initOvershootCompensation(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_OvershootCompensationConfig *config);

/**
 * \brief Configures the boundary settings for the specified EDSADC channel.
 *
 * \param[inout] channel     Pointer to the EDSADC channel handle.
 * \param[in]    boundaryCfg Pointer to the boundary configuration structure containing the lower and upper boundary values.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_configureBoundary(IfxEdsadc_Edsadc_Channel *channel, const  IfxEdsadc_Edsadc_BoundaryConfig *boundaryCfg);

/**
 * \brief Initializes the auxiliary filter for the specified EDSADC channel with the given configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the auxiliary filter configuration structure containing the settings for the filter.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initAuxiliaryFilter(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_AuxiliaryFilterConfig *config);

/**
 * \brief Configures the sign delay for the specified EDSADC channel.
 *
 * \param[inout] channel       Pointer to the EDSADC channel handle.
 * \param[in]    positiveValue The positive sign delay value to be set.
 *                             Range: 0 to 255
 * \param[in] nagativeValue    The negative sign delay value to be set.
 *                             Range: 0 to 255
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_configureSignDelay(IfxEdsadc_Edsadc_Channel *channel, uint8 positiveValue, uint8 nagativeValue);

/** \} */

/** \addtogroup IfxLld_Edsadc_Edsadc_Channel
 * \{ */

/******************************************************************************/
/*-------------------------Global Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Initializes an EDSADC channel with the specified configuration.
 *
 * \param[inout] channel Pointer to the EDSADC channel handle.
 * \param[in]    config  Pointer to the configuration structure containing the initialization parameters for the channel.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initChannel(IfxEdsadc_Edsadc_Channel *channel, const IfxEdsadc_Edsadc_ChannelConfig *config);

/** 
 * \brief Initializes the default configuration for an EDSADC channel.
 *
 * \param[inout]   config Pointer to the channel configuration structure to be initialized.
 * \param[in]      edsadc Pointer to the EDSADC module instance.
 *
 * \return None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initChannelConfig(IfxEdsadc_Edsadc_ChannelConfig *config, IfxEdsadc_Edsadc *edsadc);

/** \} */

/** \addtogroup IfxLld_Edsadc_Edsadc_Operative
 * \{ */

/******************************************************************************/
/*-------------------------Inline Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Starts a scan on the specified EDSADC module and channels.
 *
 * \note Refer device specific Edsadc_cfg file for device specific channels numbers.
 *
 * \param[inout] edsadc        Pointer to the EDSADC module instance.
 * \param[in]    modulatorMask Bitmask representing the modulators to be started. Each bit
 *                             corresponds to a specific modulator (0 = Stop clock for on-chip and external modulator x,
                               1 = Modulator x is enabled and can run).
 *							   Range: 0x0001 to 0x3FFF. (This range is applicable for TC39XB device variant)
 * \param[in]    channelMask   Bitmask representing the channels to be included in the scan.
 *                             Each bit corresponds to a specific channel (0 = Stop channel,
                               1 = Demodulator channel is enabled and runs).
 *							   Range: 0x0001 to 0x3FFF. (This range is applicable for TC39XB device variant)
 *
 * \retval None
 */
IFX_INLINE void IfxEdsadc_Edsadc_startScan(IfxEdsadc_Edsadc *edsadc, uint32 modulatorMask, uint32 channelMask);

/**
 * \brief Stops the conversion process for the specified modulators.
 *
 * \note Refer device specific Edsadc_cfg file for device specific channels numbers.
 *
 * \note Refer device specific Edsadc_cfg file for device specific channels numbers.
 *
 * \param[inout] edsadc        Pointer to the EDSADC module instance.
 * \param[in]    modulatorMask Bitmask specifying which modulators to stop. Each bit in the mask
 *                             corresponds to a modulator, where a set bit indicates that the corresponding
 *                             modulator should be stopped.
 *							   Range: 0x0001 to 0x3FFF. (This range is applicable for TC39XB device variant)
 *
 * \retval None
 */
IFX_INLINE void IfxEdsadc_Edsadc_stopScan(IfxEdsadc_Edsadc *edsadc, uint32 modulatorMask);

/** \} */

/** \addtogroup IfxLld_Edsadc_Edsadc_Results
 * \{ */

/******************************************************************************/
/*-------------------------Inline Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Retrieves the main result from the specified channel.
 *
 * \param[out] channel Pointer to the EDSADC channel handle.
 *
 * \retval sint16 Result from the main filter chain.
 */
IFX_INLINE sint16 IfxEdsadc_Edsadc_getMainResult(IfxEdsadc_Edsadc_Channel *channel);

/**
 * \brief Retrieves the subsequent result from the specified EDSADC channel.
 *
 * \param[out] channel Pointer to the EDSADC channel handle.
 *
 * \retval sint32 Subsequent result from the channel.
 */
IFX_INLINE sint32 IfxEdsadc_Edsadc_getSubsequentResult(IfxEdsadc_Edsadc_Channel *channel);

/**
 * \brief Retrieves the auxiliary conversion result for the specified EDSADC channel.
 *
 * \param[out] channel Pointer to the EDSADC channel handle.
 *
 * \retval uint16 Result from the auxiliary filter chain.
 *		   Range: 0 to FFFF.
 */
IFX_INLINE uint16 IfxEdsadc_Edsadc_getAuxResult(IfxEdsadc_Edsadc_Channel *channel);

/** \} */

/** \addtogroup IfxLld_Edsadc_Edsadc_Interrupt
 * \{ */

/******************************************************************************/
/*-------------------------Inline Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Returns a pointer to the auxiliary source register of a specified channel in the EDSADC module.
 *
 * \param[in] channel Pointer to the EDSADC channel handle.
 *
 * \retval volatile Ifx_SRC_SRCR *. Address/pointer to the interrupt source register
 */
IFX_INLINE volatile Ifx_SRC_SRCR *IfxEdsadc_Edsadc_getAuxSrc(IfxEdsadc_Edsadc_Channel *channel);

/**
 * \brief Returns a pointer to the main source register of a specified channel in the EDSADC module.
 *
 * \param[in] channel Pointer to the EDSADC channel handle.
 *
 * \retval volatile Ifx_SRC_SRCR *. Address/pointer to the interrupt source register
 */
IFX_INLINE volatile Ifx_SRC_SRCR *IfxEdsadc_Edsadc_getMainSrc(IfxEdsadc_Edsadc_Channel *channel);

/** \} */

/******************************************************************************/
/*-------------------------Inline Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Sets the gain correction factor and CIC shift for the specified EDSADC channel.
 *
 * \param[inout] edsadc     Pointer to the EDSADC module.
 * \param[in]    channel    Channel ID.
 *                          Range:\ref IfxEdsadc_ChannelId
 * \param[in]    gainFactor Multiplication factor for gain correction.
 *				            Range: 0 to 4095.
 * \param[in]    cicShift   Position of the CIC filter output shifter.
 *						    Range: 0 to 31.
 *
 * \retval None
 */
IFX_INLINE void IfxEdsadc_Edsadc_setGainCorrectionFactor(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, uint16 gainFactor, uint8 cicShift);

/**
* \brief Initializes the time stamp counter for the specified EDSADC channel.
*
* \param[inout] edsadc    Pointer to the EDSADC module.
* \param[in]    channel   The channel ID for which the time stamp counter is to be initialized.
*					      Range:\ref IfxEdsadc_ChannelId.
* \param[in]    timeStamp Pointer to the timestamp counter configuration structure.
*
* \retval None
 */
IFX_INLINE void IfxEdsadc_Edsadc_initTimeStampCounter(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, const IfxEdsadc_Edsadc_TimeStampCounter *timeStamp);

/**
 * \brief Initializes the common mode voltage configuration for the specified EDSADC channel.
 *
 * \param[inout] edsadc     Pointer to the EDSADC module.
 * \param[in]    channel    Channel ID.
 * 						    Range: \ref IfxEdsadc_ChannelId
 * \param[in]    commonMode Pointer to the common mode voltage configuration structure.
 *
 * \retval None
 */
IFX_INLINE void IfxEdsadc_Edsadc_initCommonModeVoltage(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, const IfxEdsadc_Edsadc_CommonModeVoltageConfig *commonMode);

/**
 * \brief Retrieves the calibration status of a specific channel.
 *
 * \param[in] channel Pointer to the EDSADC channel handle.
 *
 * \retval uint8 Calibration status.
 *         Range: 0x00 Uncalibrated, initial state after reset
 *                0x01 The calibration algorithm is currently running
 *                0x10 Calibrated, normal operation is possible
 *                0x11 Calibration terminated incorrectly
 */
IFX_INLINE uint8 IfxEdsadc_Edsadc_getCalibrationStatus(IfxEdsadc_Edsadc_Channel *channel);

/******************************************************************************/
/*-------------------------Global Function Prototypes-------------------------*/
/******************************************************************************/

/**
 * \brief Initializes the carrier generation configuration to default values.
 *
 * \param[inout] config Pointer to the carrier generation configuration structure.
 *
 * \retval None
 */
IFX_EXTERN void IfxEdsadc_Edsadc_initCarrierGenConfig(IfxEdsadc_Edsadc_CarrierGenConfig *config);

/******************************************************************************/
/*---------------------Inline Function Implementations------------------------*/
/******************************************************************************/

IFX_INLINE volatile Ifx_SRC_SRCR *IfxEdsadc_Edsadc_getAuxSrc(IfxEdsadc_Edsadc_Channel *channel)
{
    return IfxEdsadc_getAuxSrc(channel->module, channel->channelId);
}


IFX_INLINE sint16 IfxEdsadc_Edsadc_getMainResult(IfxEdsadc_Edsadc_Channel *channel)
{
    return IfxEdsadc_getMainResult(channel->module, channel->channelId);
}


IFX_INLINE uint16 IfxEdsadc_Edsadc_getAuxResult(IfxEdsadc_Edsadc_Channel *channel)
{
	return IfxEdsadc_getAuxResult(channel->module, channel->channelId);
}


IFX_INLINE volatile Ifx_SRC_SRCR *IfxEdsadc_Edsadc_getMainSrc(IfxEdsadc_Edsadc_Channel *channel)
{
    return IfxEdsadc_getMainSrc(channel->module, channel->channelId);
}


IFX_INLINE sint32 IfxEdsadc_Edsadc_getSubsequentResult(IfxEdsadc_Edsadc_Channel *channel)
{
    return IfxEdsadc_getSubsequentResult(channel->module, channel->channelId);
}


IFX_INLINE void IfxEdsadc_Edsadc_startScan(IfxEdsadc_Edsadc *edsadc, uint32 modulatorMask, uint32 channelMask)
{
    IfxEdsadc_startScan(edsadc->edsadc, modulatorMask, channelMask);
}


IFX_INLINE void IfxEdsadc_Edsadc_stopScan(IfxEdsadc_Edsadc *edsadc, uint32 modulatorMask)
{
    IfxEdsadc_stopScan(edsadc->edsadc, modulatorMask);
}


IFX_INLINE void IfxEdsadc_Edsadc_setGainCorrectionFactor(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, uint16 gainFactor, uint8 cicShift)
{
    IfxEdsadc_setGainCorrectionFactor(edsadc, channel, gainFactor, cicShift);
}


IFX_INLINE void IfxEdsadc_Edsadc_initTimeStampCounter(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, const IfxEdsadc_Edsadc_TimeStampCounter *timeStamp)
{
    IfxEdsadc_setTimeStampCounter(edsadc, channel, timeStamp->timeStampCounterClock, timeStamp->timeStampCounterRunControl, timeStamp->analogMuxCopy);
}


IFX_INLINE void IfxEdsadc_Edsadc_initCommonModeVoltage(Ifx_EDSADC *edsadc, IfxEdsadc_ChannelId channel, const IfxEdsadc_Edsadc_CommonModeVoltageConfig *commonMode)
{
    IfxEdsadc_setCommonModeVoltage(edsadc, channel, commonMode->fractionalRefVoltage, commonMode->refVoltageEnable, commonMode->positiveInput, commonMode->negativeInput);
}


IFX_INLINE uint8 IfxEdsadc_Edsadc_getCalibrationStatus(IfxEdsadc_Edsadc_Channel *channel)
{
    return IfxEdsadc_getCalibrationStatus(channel->module, channel->channelId);
}

#endif /* IFXEDSADC_EDSADC_H */
